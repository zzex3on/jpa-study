# ì• í”Œë¦¬ì¼€ì´ì…˜ ê°œë°œ
   
1. ```Persistence``` í´ë˜ìŠ¤ì—ì„œ ```persistence.xml``` ì„¤ì • ì •ë³´ë¥¼ ì¡°íšŒ
2. ì¡°íšŒëœ ì •ë³´ë¥¼ í†µí•´ ```EntityManagerFactory``` í´ë˜ìŠ¤ ìƒì„±
3. ìƒì„±ëœ ```EntityManagerFactory``` ì—ì„œ í•„ìš”í•  ë•Œë§ˆë‹¤ ```EntityManager``` ë¥¼ ìƒì„±í•¨

### ğŸ©¹ ì˜¤ë¥˜ ì²˜ë¦¬
- ì˜¤ë¥˜ : JpaMain.java ì‹¤í–‰ í›„ h2database ê´€ë ¨í•˜ì—¬ ```java.lang.ClassNotFoundException: javax.xml.bind.JAXBException``` ì˜¤ë¥˜ê°€ ë°œìƒ..
- ì›ì¸ : Java 8 ë²„ì „ë³´ë‹¤ ë†’ì€ ë²„ì „ì˜ Javaë¥¼ ì‚¬ìš©í•˜ê³  ìˆì—ˆìŒ, ë²„ì „ì—… ì‹œ í•´ë‹¹ ëª¨ë“ˆì´ ì œê±°ë˜ì–´ ì¸ì‹ ë¶ˆê°€
- í•´ê²° : ```Maven > javax.xml.bind <dependency>``` ì¶”ê°€
- ì°¸ê³  ë‚´ìš© : [tistory] [java.lang.ClassNotFoundException: javax.xml.bind.JAXBException ì—ëŸ¬](https://yeonyeon.tistory.com/240)
- ì†ŒìŠ¤
  ```xml
  [pom.xml]
  
  <!--Java 8 ë²„ì „ ì´ìƒìœ¼ë¡œ ClassNotFoundExcpetion ì˜¤ë¥˜ ë°œìƒ, ì¶”ê°€í•¨-->
  <dependency>
      <groupId>javax.xml.bind</groupId>
      <artifactId>jaxb-api</artifactId>
      <version>2.3.0</version>
  </dependency>
  ```
- - - 
- ì˜¤ë¥˜ : JpaMain.java ì‹¤í–‰ í›„ Database "C:/Users/HA/test" not found, and IFEXISTS=true, so we cant auto-create it ì˜¤ë¥˜ ë°œìƒ
- ì›ì¸ : h2 ì½˜ì†” ë‚´ JDBC URLì„ ì˜¬ë°”ë¥´ê²Œ í‘œê¸°í•˜ì§€ ì•Šì•˜ìŒ
- í•´ê²°
  1. h2 database ë²„ì „ì„ 1.4.199 ë²„ì „ìœ¼ë¡œ ë³€ê²½
  2. h2.bat íŒŒì¼ ì‹¤í–‰ (windows)
  3. H2 ì½˜ì†”ì´ ë¸Œë¼ìš°ì €ì— ë„ì›Œì§€ë©´ JDBC URLì„ ì¬ì„¤ì •
     ```jdbc:h2:tcp:localhost/~/test``` ì™€ ê°™ì€ í˜•íƒœì—ì„œ ```jdbc:h2:~/test``` ë¡œ ë³€ê²½ í›„ ì—°ê²°
- ì°¸ê³  ë‚´ìš© : [stackoverflow] [Database not found, and IFEXISTS=true, so we cant auto-create it](https://stackoverflow.com/questions/55349373/database-not-found-and-ifexists-true-so-we-cant-auto-create-it)

### JPAì—ê²Œ íŠ¸ëœì­ì…˜ì´ë€
- JPAì—ì„œ íŠ¸ëœì­ì…˜ì€ ë§¤ìš° ì¤‘ìš”í•œ ë‹¨ìœ„! (ë°ì´í„°ë¥¼ ë³€ê²½í•˜ëŠ” ëª¨ë“  ì‘ì—…ì€ ë°˜ë“œì‹œ íŠ¸ëœì­ì…˜ ë‚´ì—ì„œ ìˆ˜í–‰ë˜ì–´ì•¼ í•¨)
- ì†ŒìŠ¤
  ```java
  EntityTransaction tx = em.getTransaction(); // íŠ¸ëœì­ì…˜ ì–»ìŒ
  tx.begin(); // íŠ¸ëœì­ì…˜ ì‹œì‘

  Member member = new Member();
  member.setId(1L);
  member.setName("HelloA");
  em.persist(member);
  tx.commit();
  ```

  __ê²°ê³¼__
  
  ![image](https://github.com/zzex3on/jpa-study/assets/87990439/2a358922-a439-4933-9d4a-bd265c8b6d5b)
  ** ```persistence.xml```ì˜ ```hibernate.show_sql``` ì™€ ```hibernate.use_sql_comments``` ì†ì„±ì˜ ê°’ì´ ```true``` ì—¬ì„œ ìœ„ì²˜ëŸ¼ ë¡œê·¸ê°€ ë‚¨ê²Œ ë¨

### ì–´ë…¸í…Œì´ì…˜ ì •ë¦¬
- ```@Entity``` : jpaë¥¼ ì‚¬ìš©í•œë‹¤ê³  ì¸ì‹í•˜ê²Œ í•¨. jpa ì‚¬ìš© ì‹œ í•„ìˆ˜!
- ```@Table``` : íŠ¹ì • í…Œì´ë¸”ì— ë™ì‘í•˜ë„ë¡ ëª…ì‹œ (ex. @Table(name = "USER"))
- ```@Id``` : ê¸°ë³¸í‚¤ ì§€ì •
- ```@Column``` : DBì˜ ì»¬ëŸ¼ëª…ì„ ëª…ì‹œ (ì†ŒìŠ¤ì— ëª…ì‹œëœ ì»¬ëŸ¼ëª…ê³¼ ë‹¤ë¥¼ ë•Œ í•˜ëŠ” ê²ƒ ê°™ìŒ)
  
